# Сервер с запросами на калькулятор
## Общее преставление
Это калькулятор Web-Server, когда вы делайте определённые запросы на локальный сервер, который создает Go, так скажем.
Он вам выдает результат... этот калькулятор умеет работать со скобками... с последотельностью знаком: *; /; +; -; вычисляет большинство обычных длинных примером. Сервер и калькулятор был написан на языке Go.

## Как же его запустить?
1. Для этого вам нужно скачать этот репозиторий как исходный код там будет кнопка Codе, и там написано Download ZIP его и нужно скачать.
2. Нужно разархивировать, скорее всего вы уже научены как - это делается, у вас Go обязательно должен быть установлен, если не установлен **[клик](https://go.dev/dl/)**, и вы передаёте на официальный сайт Go там его и скачайте для вашей операционной системой.
3.Далее вам нужно найти приложение "Консоль" или "Терминал" в вашей операционной системе. Удостоверьтесь командой 
  ```bash
  go version
  ```
Что Go реально установлен или установился. Если показывает что-то типо этого:
`go version go1.23.3 windows/amd64`.
У меня он установлен.
> В моем случае для Windows для x64bit.

4. Теперь вам нужно зайти в папку `caclator-web-service` примерно так может называться... используете в консоли команду `cd путь/до/caclucator-web-service` замените `путь/до/caclucator-web-service` путем к реальной папке к моему калькулятору на вашем компьютере или ноутбуке.
5. И после того когда зайдете в папку вам нужно написать команду:
  ```bash
  go run main.go
  ```

B сервер запуститься на таком адресе http://localhost:8080, если у вас запищим сервер. Если появится сообщение `Server is running on http://localhost:8080`, то cервер успешно запустился.
# Установка Curl(пропустите, если уже установлен)
## Установка curl(только Windows)
1. Чтобы нам его установить нам в начале нужно зайти на их официальный [сайт](https://curl.se/download.html).
   
3. Нажмите на клавиатуре сочетание Ctrl + F и тогда откроется поисковик и введите туда **Windows**. Пролистайте до вкладок **Windows** и выбирайте установщик там рядом название будет `the curl project` вы качайте не **установщик,** поэтому будем сами устанавливать... 
4. Вам нужен путь короткий поэтому подойдет для наших задач ваш системный диск в диске С вам нужно создать папку Curl и разархивировать папку именно туда... возможно версия уже есть более новая... обновлять тоже нужно самому. __*Не большой*__ минусик есть. 
И должно получится что-то типо этого `C:\Curl\curl-8.11.0_4-win64-mingw`, если с открытой папкой самого curl.

5. И теперь - этот путь нужно добавить Path (Global) чтобы другие пользователи могли использовать... если не хотите добавляете Path (Local) для вашего пользователя. Чтобы добавить передите в Приложение Настройки (Windows 10/11) >> Система >> О системе >> Дополнительные настройки системы >> Переменные среды и тут два разветвления внизу - это глобальные(для всех пользователей) настройки, вверху Локальные(только для этого пользователя) настройки. Выбираете для себя или для всех и ищите пункт Path он всегда будет на __*английском языке*__ и нажимайте Изменить, и дальше кнопку Новое или "...что-то в этом духе...". И вставляете этот самый путь, *возможно* он у вас будет другой. Теперь откройте терминал или консоль, если уже он включен перепустите его. Введите команду:
   ```bash  
   curl www.google.com
   ``` 
Если вышло много **текста**, то curl работает.
## Установка curl(Только MacOS и Linux)
Если случаем вы обнаружили что в вашей системе нету curl - это можно исправить, вот несколько основных Дистрибутивов Linux где я могу дать команду на скачивание установку curl:

**Ubuntu/Debian**:
  ```bash
  apt install curl
  ```
**OpenSUSE**:
  ```bash
  zypper install curl
  ```
  **Fedora/Red Hat**:
  ```bash
  dnf install curl
  ```
Для других вы найдете сами в интернете на свой дистрибутив, или же вам придется компилировать его, из его исходников. Обязательно для всех установок вы должны быть под root или используйте sudo вместе с командой.
А для **MacOS**
Он у вас по умолчанию установлен... открывайте терминал и пользуйтесь.
Так же можете проверить командой:
   ```bash  
   curl apple.com
   ```
## Примеры использования моего калькулятора через команду curl
> [!IMPORTANT]
> ВНИМАНИЕ!
> Вы должны включить сервер командой из другого [Tutorial](#как-же-его-запустить), иначе команды не будут работать.
### Обычные вычисления
Если ввести такую команду, на `2+2`:
   ```bash  
   curl -X POST -H "Content-Type: application/json" -d "{\"expression\":\"2+2\"}" http://localhost:8080/api/v1/calculate
   ```
  Числа, будут выводится результат только во `float` значение. С плавающей точкой:
  ```json
    {"result":"4.000000"}
  ```
Можно сделать и посложнее допустим:
  ```bash
  curl -X POST -H "Content-Type: application/json" -d "{\"expression\":\"(2+3)*5\"}" http://localhost:8080/api/v1/calculate
  ```
Получим: 
```json
{"result":"25.000000"}
```
### Различные возможные ошибки пользователя
Так же есть проверки на ошибки запросов пользователя:
  Если введен не корректный пример:
  ```bash
  curl -X POST -H "Content-Type: application/json" -d "{\"expression\":\"2++\"}" http://localhost:8080/api/v1/calculate
  ```
Получим:
  ```json
{"error":"invalid expression: consecutive operators"}
  ```
Ещё пример с пустой строкой:
  ```bash
  curl -X POST -H "Content-Type: application/json" -d "{\"expression\":\"\"}" http://localhost:8080/api/v1/calculate
  ```
Получим:
  ```json
  {"error":"stack is empty"}
  ```
